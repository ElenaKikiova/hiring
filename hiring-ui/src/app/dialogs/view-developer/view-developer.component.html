<div mat-dialog-content>

  <mat-list>

    <mat-list-item class="name-and-contacts" *ngIf="data.mode == 'view'">

      <img class="pfp" [src]="data.developer.pfp != '' ? data.developer.pfp : '../../../assets/no-pfp.png'">
      
      <div class="info">
        <p>{{ data.developer.name }}</p>
        <p>
          {{ data.developer.email }}
        </p>
      </div>

    </mat-list-item>

    <mat-divider></mat-divider>

    <div *ngIf="data.mode == 'edit'">

      <mat-form-field appearance="fill">
        <mat-label>Full name</mat-label>
        <input matInput [formControl]="name" required>
        <mat-error *ngIf="name.invalid">{{getErrorMessage("name")}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Location</mat-label>
        <input matInput [formControl]="location" required>
        <mat-error *ngIf="location.invalid">{{getErrorMessage("location")}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Phone number</mat-label>
        <input matInput [formControl]="phone" required>
        <mat-error *ngIf="phone.invalid">{{getErrorMessage("phone")}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Price per hour</mat-label>
        <input matInput [formControl]="price" required>
        <span matPrefix>$ &nbsp;</span>
        <mat-error *ngIf="price.invalid">{{getErrorMessage("price")}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Technology</mat-label>
        <mat-select [formControl]="technology">
          <mat-option *ngFor="let t of technologies; let i = index" [value]="i">{{ t}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Description</mat-label>
        <textarea  matInput [formControl]="description"></textarea>
        <mat-error *ngIf="description.invalid">{{getErrorMessage("description")}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Native language</mat-label>
        <mat-select [formControl]="language">
          <mat-option *ngFor="let l of languages; let i = index" [value]="i">{{ l}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Linked in</mat-label>
        <input  matInput [formControl]="linkedIn">
        <mat-error *ngIf="linkedIn.invalid">{{getErrorMessage("linkedIn")}}</mat-error>
      </mat-form-field>

    </div>



  </mat-list>

  <div mat-dialog-actions>
    <button mat-button (click)="closeDialog()">Close</button>
    <button 
      mat-button cdkFocusInitial
      (click)="saveChanges()"
      *ngIf="data.mode == 'edit'">Save changes</button>
  </div>